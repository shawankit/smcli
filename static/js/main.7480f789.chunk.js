(this.webpackJsonpcli=this.webpackJsonpcli||[]).push([[0],{103:function(e,t,n){"use strict";t.a=[{label:"Month",name:"month",type:"input",inputType:"month"},{label:"Date",name:"date",type:"input",inputType:"date"},{label:"Consignment Number",name:"consignmentNo",type:"input",inputType:"text"},{label:"Transporter",name:"transporter",type:"select",inputType:"text",list:"transporters"},{label:"Supplier",name:"supplier",type:"select",inputType:"text",list:"suppliers"},{label:"Privart Mark",name:"privartMark",type:"input",inputType:"text"},{label:"Number Of Package",name:"numberOfPackage",type:"input",inputType:"number"},{label:"Weight",name:"weight",type:"input",inputType:"number"},{label:"Quantity",name:"quantity",type:"input",inputType:"number"},{label:"Item",name:"item",type:"select",inputType:"text",list:"items"},{label:"Bill Number",name:"billNo",type:"input",inputType:"text"},{label:"Bill Date",name:"billDate",type:"input",inputType:"date"},{label:"Amount Declared",name:"amountDeclared",type:"input",inputType:"number"},{label:"Rate",name:"rate",type:"input",inputType:"number"},{label:"EWAY Bill No",name:"ewaybillNo",type:"input",inputType:"text"},{label:"MR Number",name:"mrno",type:"input",inputType:"number"},{label:"MR Date",name:"mrdate",type:"input",inputType:"date"},{label:"Amount",name:"amount",type:"input",inputType:"number"},{label:"Delivery Date",name:"deliverydate",type:"input",inputType:"date"},{label:"Challan Number",name:"challanNumber",type:"input",inputType:"number"}]},123:function(e,t,n){"use strict";var a=n(1),_=n(9),c=n(82),r=n(145),i=n(6),s=["label","option","selected"],o=c.a.Option;t.a=function(e){var t=e.label,n=e.option,l=(e.selected,Object(_.a)(e,s));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(r.a,{span:4,className:"mb-3",children:Object(i.jsx)("label",{className:"block font-semibold mt-5 text-right mr-10",children:t})}),Object(i.jsx)(r.a,{span:8,className:"mb-3",children:Object(i.jsx)("div",{className:"mt-5",children:Object(i.jsx)(c.a,Object(a.a)(Object(a.a)({className:"w-full",placeholder:t},l),{},{children:n.map((function(e,t){return Object(i.jsx)(o,{value:e.value,children:e.text},t)}))}))})})]})}},183:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(28),_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4),_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(19),_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),antd__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(320),antd__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(43),antd__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(321),_data_FieldData__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(103),_common_InputField__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(77),_api__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(33),_common_SelectField__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(123),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(6),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__),ConsignmentModal=function ConsignmentModal(_ref){var visible=_ref.visible,setVisible=_ref.setVisible,data=_ref.data,fetchConsignments=_ref.fetchConsignments,initialData=_data_FieldData__WEBPACK_IMPORTED_MODULE_10__.a.reduce((function(e,t){return Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.a)(Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.a)({},e),{},Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__.a)({},t.name,""))}),{}),_useState=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)(initialData),_useState2=Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__.a)(_useState,2),formData=_useState2[0],setFormData=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)([]),_useState4=Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__.a)(_useState3,2),items=_useState4[0],setItems=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)([]),_useState6=Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__.a)(_useState5,2),fitems=_useState6[0],setFItems=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)([]),_useState8=Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__.a)(_useState7,2),suppliers=_useState8[0],setSuppliers=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)([]),_useState10=Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__.a)(_useState9,2),fsuppliers=_useState10[0],setFSuppliers=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)([]),_useState12=Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__.a)(_useState11,2),transporters=_useState12[0],setTransporters=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)([]),_useState14=Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__.a)(_useState13,2),ftransporters=_useState14[0],setFTransporters=_useState14[1],onChange=function(e){setFormData(Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.a)(Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.a)({},formData),{},Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__.a)({},e.target.name,e.target.value)))};Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){setFormData(data),fetchItems()}),[data]);var onSubmit=function(){var e=Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.a)(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_5___default.a.mark((function e(t){var n,a,_,c;return _home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_5___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(formData),!data){e.next=9;break}return e.next=4,Object(_api__WEBPACK_IMPORTED_MODULE_12__.m)(data.id,formData);case 4:a=e.sent,console.log(a),1==(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.status)?swal("Success","Succesfully updated consignments details"):swal("OOPS Something Went wrong","error"),e.next=14;break;case 9:return e.next=11,Object(_api__WEBPACK_IMPORTED_MODULE_12__.b)(formData);case 11:c=e.sent,console.log(c),1==(null===c||void 0===c||null===(_=c.data)||void 0===_?void 0:_.status)?swal("Success","Succesfully added consignments details"):swal("OOPS Something Went wrong","error");case 14:return t&&setVisible(!1),e.next=17,fetchConsignments();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchItems=function(){var e=Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.a)(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_5___default.a.mark((function e(){var t,n,a,_,c,r,i,s,o;return _home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_5___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_api__WEBPACK_IMPORTED_MODULE_12__.h)();case 2:return _=e.sent,c=null===_||void 0===_||null===(t=_.data)||void 0===t?void 0:t.entity,setItems(c),setFItems(c),e.next=8,Object(_api__WEBPACK_IMPORTED_MODULE_12__.j)();case 8:return r=e.sent,i=null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.entity,setSuppliers(i),setFSuppliers(i),e.next=14,Object(_api__WEBPACK_IMPORTED_MODULE_12__.k)();case 14:s=e.sent,o=null===s||void 0===s||null===(a=s.data)||void 0===a?void 0:a.entity,setTransporters(o),setFTransporters(o);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSelectChange=function(e,t){setFormData(Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.a)(Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.a)({},formData),{},Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__.a)({},e,t)))},handleSearch=function handleSearch(field,value){value?eval("set".concat(field.label,"s"))([].concat(Object(_home_ankit_Ankit_StockApp_cli_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__.a)(eval("f".concat(field.list))),[{name:value}])):eval("set".concat(field.label,"s"))(eval("f".concat(field.list)))};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(antd__WEBPACK_IMPORTED_MODULE_7__.a,{title:"".concat(data?"Edit":"Add"," Consignment"),visible:visible,width:"85%",style:{top:75},onCancel:function(){return setVisible(!1)},footer:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{onClick:function(){return setVisible(!1)},children:"Cancel"},"cancel"),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{type:"primary",onClick:function(){return onSubmit()},children:"Save"},"save"),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{type:"primary",onClick:function(){return onSubmit(!0)},children:"Save and Close"},"savclose")],children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.a,{children:_data_FieldData__WEBPACK_IMPORTED_MODULE_10__.a.map((function(field){return"input"==field.type?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_common_InputField__WEBPACK_IMPORTED_MODULE_11__.a,{label:field.label,type:field.inputType,name:field.name,onChange:onChange,value:formData?formData[field.name]:""},field.name):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_common_SelectField__WEBPACK_IMPORTED_MODULE_13__.a,{label:field.label,option:eval(field.list).map((function(e){return{value:e.name,text:e.name}})),showSearch:!0,optionFilterProp:"children",value:formData?formData[field.name]:"",showArrow:!1,onSearch:function(e){return handleSearch(field,e)},onChange:function(e){return onSelectChange(field.name,e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())}},field.name)}))})})})})};__webpack_exports__.a=ConsignmentModal},204:function(e,t,n){},317:function(e,t,n){},319:function(e,t,n){"use strict";n.r(t);var a=n(0),_=n.n(a),c=n(35),r=n.n(c),i=n(61),s=(n(204),n(34)),o=n(322),l=n(28),u=n(4),d=n(19),b=n.n(d),m=n(143),j=n.n(m),p=n(324),O=n(321),f=n(145),h=n(325),E=n(43),x=n(33),D=n(1),k=n(196),M=n(327),v=n(328),A=n(197),P=n(195),g=n(323),C=n(103),y=n(183),S=n(3),T=n(320),w=n(77),I=n(123),L=n(96),B=n.n(L),W=n(75),R=n.n(W),K=n(6),U=function(e){var t=e.visible,n=e.setVisible,_=e.data,c=e.consigmentData,r=e.fetchConsignments,i={consignmentId:"",consignmentNo:"",godownId:"",godownValue:"",date:B()().format("YYYY-MM-DDThh:mm")},s=Object(a.useState)(i),o=Object(u.a)(s,2),d=o[0],m=o[1],j=Object(a.useState)([]),h=Object(u.a)(j,2),k=h[0],M=h[1],v=Object(a.useState)(c),A=Object(u.a)(v,2),P=A[0],C=A[1],y=function(){var e=Object(l.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.g)();case 2:n=e.sent,M(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.entity);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){y(),_&&m(_)}),[_]),Object(a.useEffect)((function(){C(c)}),[c]);var S=function(){var e=Object(l.a)(b.a.mark((function e(){var t,n,a,_,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R()({title:"Are you sure?",text:"Are you sure that you want to update the location ?",icon:"warning",dangerMode:!0});case 2:if(!e.sent){e.next=19;break}return n=d.godownId,a=d.date,e.next=7,Object(x.a)(c.id,{godownId:n,date:a});case 7:if(_=e.sent,console.log(_),1!=(null===_||void 0===_||null===(t=_.data)||void 0===t?void 0:t.status)){e.next=19;break}return R()("Succesfully updated consignment location","success"),e.next=13,Object(x.l)(c.id);case 13:return i=e.sent,console.log(i),m(Object(D.a)(Object(D.a)({},d),{},{godownId:""})),C(i.data.entity),e.next=19,r();case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=[{title:Object(K.jsx)(p.a.Text,{ellipsis:!0,title:"Godown/Location",children:"Godown/Location"}),dataIndex:"location",key:"location",width:"150px"},{title:Object(K.jsx)(p.a.Text,{ellipsis:!0,title:"Date-Time",children:"Date"}),dataIndex:"date",key:"date",width:"150px"}],L=null;return(null===P||void 0===P?void 0:P.godowns.length)>0&&((L=P.godowns.map((function(e){return{location:e.name,date:e.ConsigmentLocation.createdAt}}))).sort((function(e,t){return B()(t.date)-B()(e.date)})),L=L.map((function(e){return Object(D.a)(Object(D.a)({},e),{},{date:B()(e.date).format("DD MMM YYYY, hh:mm A")})}))),Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(T.a,{title:"Track Consignment",visible:t,width:"45%",style:{top:75},onCancel:function(){return n(!1)},footer:[Object(K.jsx)(E.a,{onClick:function(){return n(!1)},children:"Close"},"cancel")],children:Object(K.jsxs)("div",{children:[Object(K.jsxs)(O.a,{children:[Object(K.jsx)(I.a,{label:"Godown",name:"location",onChange:function(e){m(Object(D.a)(Object(D.a)({},d),{},{godownId:e}))},option:k.map((function(e){return{value:e.id,text:e.name}})),value:d.godownId}),Object(K.jsx)(f.a,{span:12,className:"pb-3",children:Object(K.jsx)(E.a,{className:"float-right mt-4",type:"primary",onClick:function(){return S()},children:" Update Current Location"})})]}),Object(K.jsx)(O.a,{children:Object(K.jsx)(f.a,{span:24,children:Object(K.jsx)(g.a,{columns:w,dataSource:L})})})]})})})},N=p.a.Title,F=function(e){var t=e.consigments,n=e.fetchConsignments,_=Object(a.useState)(!1),c=Object(u.a)(_,2),r=c[0],i=c[1],s=Object(a.useState)(null),o=Object(u.a)(s,2),d=o[0],m=o[1],j=Object(a.useState)(!0),h=Object(u.a)(j,2),S=h[0],T=h[1],w=Object(a.useState)(!1),I=Object(u.a)(w,2),L=I[0],B=I[1],W=Object(a.useState)(null),R=Object(u.a)(W,2),F=R[0],q=R[1],G=function(){var e=Object(l.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete ?")){e.next=6;break}return e.next=4,Object(x.d)(t.id);case 4:return e.next=6,n();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(b.a.mark((function e(t){var a,_;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.b)(t);case 2:return _=e.sent,console.log(_),1==(null===_||void 0===_||null===(a=_.data)||void 0===a?void 0:a.status)?swal("Success","Succesfully copied and created the consignment"):swal("OOPS Something Went wrong","error"),e.next=7,n();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=t&&t.length>0?t.reduce((function(e,t){for(var n in t)e[n]||(e[n]=new Set),e[n].add(t[n]);return e}),{}):{},z=C.a.map((function(e){return{title:Object(K.jsx)(p.a.Text,{ellipsis:"Consignment Number"!=e.label,title:e.label,children:e.label}),dataIndex:e.name,key:e.name+((new Date).getTime()+1e4*Math.random()),width:"150px",filters:Y[e.name]?Array.from(Y[e.name]).map((function(e){return{text:e,value:e}})):[],filterMode:"tree",filterSearch:!0,onFilter:function(t,n){return!!n[e.name]&&n[e.name].startsWith(t)}}}));if(S){var J={title:"Action",key:"operation"+((new Date).getTime()+1e4*Math.random()),fixed:"right",width:250,render:function(e){return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(E.a,{type:"primary",onClick:function(){return function(e){m(Object(D.a)({},e)),i(!0)}(e)},title:"Edit",children:Object(K.jsx)(k.a,{})},"edit"+e.id),Object(K.jsx)(E.a,{type:"secondary",onClick:function(){return G(e)},className:"ml-2",title:"Delete",children:Object(K.jsx)(M.a,{})},"delete"+e.id),Object(K.jsx)(E.a,{type:"secondary",onClick:function(){return function(e){m(Object(D.a)({},e)),q(null),B(!0)}(e)},className:"ml-2",title:"Delete",children:Object(K.jsx)(v.a,{})},"location"+e.id),Object(K.jsx)(E.a,{type:"dashed",onClick:function(){return V(e)},className:"ml-2",title:"Copy",children:Object(K.jsx)(A.a,{})},"copy"+e.id)]})}};z.push(J)}return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)("div",{className:"home-heading-container",children:[Object(K.jsx)(N,{level:2,className:"home-title",children:"Consignments"}),Object(K.jsxs)(N,{level:3,className:"show-more",children:[Object(K.jsx)("a",{className:"text-sm mr-4",onClick:function(){return T(!S)},children:"Action"}),Object(K.jsxs)(E.a,{onClick:function(){return m(null),void i(!0)},children:[Object(K.jsx)(P.a,{}),"Add Consigments"]})]})]}),Object(K.jsx)(O.a,{className:"w-full",children:Object(K.jsx)(f.a,{span:24,children:Object(K.jsx)(g.a,{dataSource:t.map((function(e,t){return Object(D.a)(Object(D.a)({},e),{},{key:t+((new Date).getTime()+1e4*Math.random())})})),columns:z,bordered:!0,scroll:{x:1600},pagination:{pageSize:10},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})}),Object(K.jsx)(y.a,{visible:r,setVisible:i,data:d,fetchConsignments:n}),Object(K.jsx)(U,{visible:L,setVisible:B,data:F,consigmentData:d,fetchConsignments:n})]})},q=[{label:"Godown Name",name:"name",type:"input",inputType:"text"},{label:"Address",name:"address",type:"input",inputType:"text"}],G=function(e){var t=e.visible,n=e.setVisible,_=e.data,c=e.callback,r=q.reduce((function(e,t){return Object(D.a)(Object(D.a)({},e),{},Object(S.a)({},t.name,""))}),{}),i=Object(a.useState)(r),s=Object(u.a)(i,2),o=s[0],d=s[1],m=function(e){d(Object(D.a)(Object(D.a)({},o),{},Object(S.a)({},e.target.name,e.target.value)))};Object(a.useEffect)((function(){d(_)}),[_]);var j=function(){var e=Object(l.a)(b.a.mark((function e(t){var a,r,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(o),!_){e.next=9;break}return e.next=4,Object(x.n)(_.id,o);case 4:r=e.sent,console.log(r),1==(null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.status)?R()("Succesfully updated godown details","success"):R()("OOPS Something Went wrong","error"),e.next=14;break;case 9:return e.next=11,Object(x.c)(o);case 11:s=e.sent,console.log(s),1==(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.status)?R()("Succesfully added godown details","success"):R()("OOPS Something Went wrong","error");case 14:return t&&n(!1),e.next=17,c();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(T.a,{title:"".concat(_?"Edit":"Add"," Godown"),visible:t,width:"50%",style:{top:75},onCancel:function(){return n(!1)},footer:[Object(K.jsx)(E.a,{onClick:function(){return n(!1)},children:"Cancel"},"cancel"),Object(K.jsx)(E.a,{type:"primary",onClick:function(){return j()},children:"Save"},"save"),Object(K.jsx)(E.a,{type:"primary",onClick:function(){return j(!0)},children:"Save and Close"},"savclose")],children:Object(K.jsx)("div",{children:Object(K.jsx)(O.a,{children:q.map((function(e){return Object(K.jsx)(w.a,{label:e.label,type:e.inputType,name:e.name,onChange:m,value:o?o[e.name]:"",lcol:6,icol:18},e.name)}))})})})})},V=p.a.Title,Y=function(e){var t=e.refresh,n=Object(a.useState)(null),_=Object(u.a)(n,2),c=_[0],r=_[1],i=Object(a.useState)(!1),s=Object(u.a)(i,2),o=s[0],d=s[1],m=Object(a.useState)(null),j=Object(u.a)(m,2),h=j[0],v=j[1],A=function(){var e=Object(l.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.g)();case 2:n=e.sent,r(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.entity);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){A()}),[]);var C=function(){var e=Object(l.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete ?")){e.next=6;break}return e.next=4,Object(x.e)(n.id);case 4:A(),t();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=q.map((function(e){return{title:Object(K.jsx)(p.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"150px"}}));return y.push({title:"Action",key:"operation",width:10,render:function(e){return Object(K.jsxs)("div",{className:"float-right",children:[Object(K.jsx)(E.a,{type:"primary",onClick:function(){return function(e){v(Object(D.a)({},e)),d(!0)}(e)},title:"Edit",children:Object(K.jsx)(k.a,{})},"edit"+e.id),Object(K.jsx)(E.a,{type:"secondary",onClick:function(){return C(e)},className:"ml-2",title:"Delete",children:Object(K.jsx)(M.a,{})},"delete"+e.id)]})}}),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)("div",{className:"home-heading-container",children:[Object(K.jsx)(V,{level:2,className:"home-title",children:"Godowns"}),Object(K.jsx)(V,{level:3,className:"show-more",children:Object(K.jsxs)(E.a,{onClick:function(){return v(null),void d(!0)},children:[Object(K.jsx)(P.a,{}),"Add Godowns"]})})]}),Object(K.jsx)(O.a,{className:"w-full",children:Object(K.jsx)(f.a,{span:24,children:Object(K.jsx)(g.a,{dataSource:c,columns:y,bordered:!0,pagination:{pageSize:10},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})}),Object(K.jsx)(G,{visible:o,setVisible:d,data:h,callback:A})]})},z=n(95),J=p.a.Title,H=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],_=t[1],c=Object(a.useState)({itemCount:0,consignmentCount:0,packageCount:0,godownCount:0}),r=Object(u.a)(c,2),i=r[0],s=r[1];Object(a.useEffect)((function(){o()}),[]);var o=function(){var e=Object(l.a)(b.a.mark((function e(){var t,n,a,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=document.getElementById("searchByConNo").value,e.next=3,Object(x.f)(a);case 3:return c=e.sent,_(null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.entity),e.next=7,Object(x.i)();case 7:r=e.sent,console.log(r),s(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.entity);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(l.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=3;break}return e.next=3,o();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(J,{level:2,className:"heading",children:"Stock Management Stats"}),Object(K.jsxs)(O.a,{gutter:[32,32],children:[Object(K.jsx)(f.a,{span:12,children:Object(K.jsx)(h.a,{title:"Total Consigments",value:i.consignmentCount?i.consignmentCount:0})}),Object(K.jsx)(f.a,{span:12,children:Object(K.jsx)(h.a,{title:"Total Packages",value:j()(i.packageCount?i.packageCount:0)})}),Object(K.jsx)(f.a,{span:12,children:Object(K.jsx)(h.a,{title:"Total Items",value:j()(i.itemCount?i.itemCount:0)})}),Object(K.jsx)(f.a,{span:12,children:Object(K.jsx)(h.a,{title:"Total Godowns",value:j()(i.godownCount?i.godownCount:0)})})]}),Object(K.jsxs)(O.a,{children:[Object(K.jsx)(w.a,{label:"Search By Consignment No",type:"text",name:"searchByConNo",id:"searchByConNo",onKeyPress:m}),Object(K.jsx)(f.a,{span:4,children:Object(K.jsxs)(E.a,{type:"primary",className:"mt-3 ml-4",onClick:function(e){return d(e.target.value)},title:"Search",children:[Object(K.jsx)(z.a,{})," Search"]})})]}),Object(K.jsx)("div",{id:"consignments",children:Object(K.jsx)(F,{consigments:n,fetchConsignments:o})}),Object(K.jsx)("div",{id:"godowns",children:Object(K.jsx)(Y,{refresh:o})})]})},Q=n(326),X=n(80),Z=n(329),$=n(330),ee=n(331),te=n(332),ne=n(333),ae=n.p+"static/media/cryptocurrency.1548aced.png",_e=function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),n=t[0],_=t[1],c=Object(a.useState)(void 0),r=Object(u.a)(c,2),s=r[0],o=r[1];return Object(a.useEffect)((function(){var e=function(){return o(window.innerWidth)};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),Object(a.useEffect)((function(){_(!(s<=800))}),[s]),Object(K.jsxs)(O.a,{className:"bg-regal-blue p-2 pb-0",children:[Object(K.jsx)(f.a,{span:3,children:Object(K.jsxs)("div",{className:"flex w-full items-center",children:[Object(K.jsx)(Q.a,{src:ae,size:"large"}),Object(K.jsx)(p.a.Title,{level:1,className:"ml-2 mt-2",children:Object(K.jsx)(i.b,{to:"/",children:"SMA"})}),Object(K.jsx)(E.a,{className:"menu-control-container",onClick:function(){return _(!n)},children:Object(K.jsx)(Z.a,{})})]})}),Object(K.jsx)(f.a,{span:21,children:Object(K.jsx)("div",{className:"w-full bg-regal-blue",children:Object(K.jsxs)(X.a,{theme:"dark",mode:"horizontal",children:[Object(K.jsx)(X.a.Item,{icon:Object(K.jsx)($.a,{}),children:Object(K.jsx)(i.b,{to:"/",children:"Home"})},"home"),Object(K.jsx)(X.a.Item,{icon:Object(K.jsx)(ee.a,{}),children:Object(K.jsx)(i.b,{to:"/#consignments",children:"Consignments"})},"Consignments"),Object(K.jsx)(X.a.Item,{icon:Object(K.jsx)(te.a,{}),children:Object(K.jsx)(i.b,{to:"/#godowns",children:"Godowns"})},"Godowns"),Object(K.jsx)(X.a.Item,{icon:Object(K.jsx)(ne.a,{}),children:Object(K.jsx)(i.b,{to:"/",children:"Items"})},"Items")]})})})]})},ce=(n(317),function(){return Object(K.jsxs)("div",{className:"app",children:[Object(K.jsx)("div",{children:Object(K.jsx)(_e,{})}),Object(K.jsx)("div",{className:"main",children:Object(K.jsx)(o.a,{children:Object(K.jsx)("div",{className:"routes",children:Object(K.jsx)(s.c,{children:Object(K.jsx)(s.a,{exact:!0,path:"/",children:Object(K.jsx)(H,{})})})})})})]})});n(318);r.a.render(Object(K.jsx)(_.a.StrictMode,{children:Object(K.jsx)(i.a,{children:Object(K.jsx)(ce,{})})}),document.getElementById("root"))},33:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"l",(function(){return o})),n.d(t,"m",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return b})),n.d(t,"c",(function(){return m})),n.d(t,"n",(function(){return j})),n.d(t,"e",(function(){return p})),n.d(t,"h",(function(){return O})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"i",(function(){return E}));var a=n(182),_=n.n(a),c="http://".concat(window.location.hostname,":8000"),r=_.a.create({baseURL:c}),i=function(e){return r.get("/consigments?".concat(e?"consignmentNo=".concat(e):""))},s=function(e){return r.post("/consigments",e)},o=function(e){return r.get("/consigments/".concat(e))},l=function(e,t){return r.put("/consigments/".concat(e),t)},u=function(e){return r.delete("/consigments/".concat(e))},d=function(e,t){return r.post("/consigments/".concat(e,"/godowns"),t)},b=function(){return r.get("/godowns")},m=function(e){return r.post("/godowns",e)},j=function(e,t){return r.put("/godowns/".concat(e),t)},p=function(e){return r.delete("/godowns/".concat(e))},O=function(){return r.get("/items")},f=function(){return r.get("/suppliers")},h=function(){return r.get("/transporters")},E=function(){return r.get("/stats")}},77:function(e,t,n){"use strict";var a=n(1),_=n(9),c=n(145),r=n(6),i=["label","lcol","icol"];t.a=function(e){var t=e.label,n=e.lcol,s=e.icol,o=Object(_.a)(e,i);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(c.a,{span:n||4,className:"mb-3",children:Object(r.jsx)("label",{className:"block font-semibold mt-5 text-right mr-10",children:t})}),Object(r.jsx)(c.a,{span:s||8,className:"mb-3",children:Object(r.jsx)("input",Object(a.a)(Object(a.a)({},o),{},{placeholder:t,className:"w-full py-2 px-2 mt-2 border-2"}))})]})}}},[[319,1,2]]]);
//# sourceMappingURL=main.7480f789.chunk.js.map